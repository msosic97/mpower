<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mugen Power | Advanced ECU Tuning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@1.2.1/dist/chartjs-plugin-zoom.min.js"></script>
    <style>
        :root {
            --primary: #0a0e17;
            --secondary: #00d9ff;
            --accent: #ff005e;
            --light: #f0f8ff;
            --dark: #050811;
            --gray: #1a1f2e;
            --card-bg: rgba(10, 14, 23, 0.9);
            --gradient: linear-gradient(135deg, #00d9ff, #0080ff, #a000ff);
            --vw-blue: #1E5DC6;
            --audi-red: #C30000;
            --bmw-blue: #0066B3;
            --mercedes-silver: #00A0A6;
            --volvo-navy: #003057;
            --honda-red: #E40521;
            --mazda-red: #D40000;
            --opel-blue: #0047BA;
            --seat-orange: #FF6600;
            --alfa-red: #981E32;
            --fiat-red: #9B0033;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background-color: var(--primary);
            color: var(--light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        h1, h2, h3, h4, .logo {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
        }

        /* Background Animation */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 217, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(160, 0, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 0, 94, 0.05) 0%, transparent 50%);
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: var(--secondary);
            opacity: 0.3;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-1000px) rotate(720deg); }
        }

        /* Header & Navigation */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background-color: rgba(5, 8, 17, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(0, 217, 255, 0.2);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-size: 2.2rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(0, 217, 255, 0.5);
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--secondary);
            font-weight: 300;
            letter-spacing: 2px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s;
            padding: 8px 15px;
            border-radius: 4px;
        }

        nav a:hover, nav a.active {
            color: var(--secondary);
            background: rgba(0, 217, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 217, 255, 0.3);
        }

        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            padding: 120px 5% 100px;
            text-align: center;
            background: linear-gradient(180deg, rgba(5, 8, 17, 0.9) 0%, rgba(10, 14, 23, 0.7) 100%);
            position: relative;
            overflow: hidden;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.1;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 40px;
            color: #a0b3d0;
        }

        .cta-button {
            display: inline-block;
            padding: 15px 40px;
            background: var(--gradient);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.4);
            border: none;
            cursor: pointer;
            letter-spacing: 1px;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 217, 255, 0.6);
        }

        /* Sections */
        .section-title {
            text-align: center;
            font-size: 2.8rem;
            margin-bottom: 60px;
            position: relative;
            color: white;
        }

        .section-title:after {
            content: '';
            position: absolute;
            width: 100px;
            height: 4px;
            background: var(--gradient);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        section {
            padding: 100px 5%;
        }

        /* Brand Selector */
        .brand-selector {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            margin-bottom: 50px;
        }

        .brand-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 10px;
            background: rgba(26, 31, 46, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            text-decoration: none;
        }

        .brand-btn:hover, .brand-btn.active {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border-color: transparent;
        }

        .brand-btn i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .brand-btn span {
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
        }

        /* Model Filter */
        .filter-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .filter-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary);
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            margin-bottom: 8px;
            color: #a0b3d0;
            font-weight: 500;
        }

        .filter-select {
            padding: 12px 15px;
            background: rgba(26, 31, 46, 0.8);
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
        }

        /* Car Models Grid */
        .car-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .car-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s;
            border: 1px solid rgba(0, 217, 255, 0.1);
            position: relative;
        }

        .car-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 217, 255, 0.2);
            border-color: var(--secondary);
        }

        .car-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .car-brand {
            font-size: 1rem;
            color: var(--secondary);
            font-weight: 500;
            margin-bottom: 5px;
        }

        .car-model {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: white;
        }

        .car-year {
            color: #a0b3d0;
            font-size: 0.9rem;
        }

        .car-image {
            height: 180px;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .car-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent, var(--primary));
        }

        .car-engine {
            padding: 20px;
            font-size: 1.1rem;
            color: var(--secondary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .car-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            padding: 20px;
            gap: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--secondary);
            line-height: 1.2;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #a0b3d0;
            margin-top: 5px;
        }

        /* Tuning Details Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 217, 255, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            z-index: 10;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 0, 94, 0.2);
            color: var(--accent);
        }

        .modal-header {
            padding: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 2.2rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .modal-subtitle {
            color: #a0b3d0;
            font-size: 1.2rem;
        }

        .modal-body {
            padding: 30px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-container {
            background: rgba(26, 31, 46, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .chart-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary);
            text-align: center;
        }

        .chart-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .chart-btn {
            padding: 8px 20px;
            background: rgba(0, 217, 255, 0.1);
            border: 1px solid rgba(0, 217, 255, 0.3);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .chart-btn:hover {
            background: rgba(0, 217, 255, 0.3);
        }

        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }

        .performance-table th {
            background: rgba(0, 217, 255, 0.2);
            padding: 15px;
            text-align: left;
            color: var(--secondary);
            font-weight: 600;
            border-bottom: 2px solid rgba(0, 217, 255, 0.5);
        }

        .performance-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .performance-table tr:hover {
            background: rgba(0, 217, 255, 0.05);
        }

        .gain-positive {
            color: #4CAF50;
            font-weight: 600;
        }

        .gain-high {
            color: #FF9800;
            font-weight: 600;
        }

        /* Footer */
        footer {
            background: var(--dark);
            padding: 60px 5% 30px;
            border-top: 1px solid rgba(0, 217, 255, 0.2);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary);
        }

        .footer-column p, .footer-column a {
            color: #a0b3d0;
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column a:hover {
            color: var(--secondary);
        }

        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(0, 217, 255, 0.1);
            border-radius: 50%;
            color: var(--secondary);
            font-size: 1.2rem;
            transition: all 0.3s;
        }

        .social-icons a:hover {
            background: var(--gradient);
            color: white;
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #a0b3d0;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .brand-selector {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 992px) {
            .brand-selector {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .hero h1 {
                font-size: 3.2rem;
            }
            
            .section-title {
                font-size: 2.4rem;
            }
        }

        @media (max-width: 768px) {
            .brand-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            nav ul {
                position: fixed;
                top: 80px;
                left: 0;
                width: 100%;
                background: rgba(5, 8, 17, 0.95);
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.3s;
                backdrop-filter: blur(10px);
                z-index: 999;
            }

            nav ul.active {
                transform: translateY(0);
                opacity: 1;
            }

            .menu-toggle {
                display: block;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section-title {
                font-size: 2.2rem;
            }

            section {
                padding: 70px 5%;
            }
            
            .filter-grid {
                grid-template-columns: 1fr;
            }
            
            .car-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .brand-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero h1 {
                font-size: 2rem;
            }

            .cta-button {
                padding: 12px 30px;
                font-size: 1rem;
            }

            .logo {
                font-size: 1.8rem;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Background Animation -->
    <div class="bg-animation" id="bgAnimation"></div>

    <!-- Header & Navigation -->
    <header>
        <div class="logo-container">
            <h1 class="logo">MUGEN POWER</h1>
            <div class="subtitle">Touched by Mugen</div>
        </div>
        
        <div class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </div>
        
        <nav>
            <ul id="navMenu">
                <li><a href="#home" class="active">Home</a></li>
                <li><a href="#brands">Brands</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#tuning">Tuning</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <h1>ADVANCED ECU TUNING<br><span style="font-size: 3rem;">PERFORMANCE REDEFINED</span></h1>
        <p>Professional ECU remapping for Volkswagen, Audi, BMW, Mercedes, Volvo, Honda, Mazda, Opel, Seat, Alfa Romeo, Fiat and more. Experience maximum power gains with our cutting-edge tuning technology.</p>
        <a href="#models" class="cta-button">EXPLORE TUNING OPTIONS</a>
    </section>

    <!-- Brand Selection -->
    <section id="brands">
        <h2 class="section-title">SELECT YOUR BRAND</h2>
        <div class="brand-selector">
            <div class="brand-btn active" data-brand="all">
                <i class="fas fa-car" style="color: var(--secondary);"></i>
                <span>All Brands</span>
            </div>
            <div class="brand-btn" data-brand="vw">
                <i class="fab fa-vw" style="color: var(--vw-blue);"></i>
                <span>Volkswagen</span>
            </div>
            <div class="brand-btn" data-brand="audi">
                <i class="fas fa-ring" style="color: var(--audi-red);"></i>
                <span>Audi</span>
            </div>
            <div class="brand-btn" data-brand="bmw">
                <i class="fas fa-times" style="color: var(--bmw-blue);"></i>
                <span>BMW</span>
            </div>
            <div class="brand-btn" data-brand="mercedes">
                <i class="fas fa-star" style="color: var(--mercedes-silver);"></i>
                <span>Mercedes</span>
            </div>
            <div class="brand-btn" data-brand="volvo">
                <i class="fas fa-shield-alt" style="color: var(--volvo-navy);"></i>
                <span>Volvo</span>
            </div>
            <div class="brand-btn" data-brand="honda">
                <i class="fas fa-h" style="color: var(--honda-red);"></i>
                <span>Honda</span>
            </div>
            <div class="brand-btn" data-brand="mazda">
                <i class="fas fa-wind" style="color: var(--mazda-red);"></i>
                <span>Mazda</span>
            </div>
            <div class="brand-btn" data-brand="opel">
                <i class="fas fa-bolt" style="color: var(--opel-blue);"></i>
                <span>Opel</span>
            </div>
            <div class="brand-btn" data-brand="seat">
                <i class="fas fa-fire" style="color: var(--seat-orange);"></i>
                <span>Seat</span>
            </div>
            <div class="brand-btn" data-brand="alfa">
                <i class="fas fa-crosshairs" style="color: var(--alfa-red);"></i>
                <span>Alfa Romeo</span>
            </div>
            <div class="brand-btn" data-brand="fiat">
                <i class="fas fa-italic" style="color: var(--fiat-red);"></i>
                <span>Fiat</span>
            </div>
        </div>
    </section>

    <!-- Models Section -->
    <section id="models">
        <h2 class="section-title">TUNING MODELS</h2>
        
        <div class="filter-container">
            <h3 class="filter-title">Filter Models</h3>
            <div class="filter-grid">
                <div class="filter-group">
                    <label class="filter-label">Brand</label>
                    <select class="filter-select" id="filterBrand">
                        <option value="all">All Brands</option>
                        <option value="vw">Volkswagen</option>
                        <option value="audi">Audi</option>
                        <option value="bmw">BMW</option>
                        <option value="mercedes">Mercedes</option>
                        <option value="volvo">Volvo</option>
                        <option value="honda">Honda</option>
                        <option value="mazda">Mazda</option>
                        <option value="opel">Opel</option>
                        <option value="seat">Seat</option>
                        <option value="alfa">Alfa Romeo</option>
                        <option value="fiat">Fiat</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Year From</label>
                    <select class="filter-select" id="filterYearFrom">
                        <option value="all">All Years</option>
                        <!-- Years will be populated by JavaScript -->
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Year To</label>
                    <select class="filter-select" id="filterYearTo">
                        <option value="all">All Years</option>
                        <!-- Years will be populated by JavaScript -->
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Engine Type</label>
                    <select class="filter-select" id="filterEngine">
                        <option value="all">All Engines</option>
                        <option value="diesel">Diesel</option>
                        <option value="petrol">Petrol</option>
                        <option value="hybrid">Hybrid</option>
                        <option value="electric">Electric</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="car-grid" id="carGrid">
            <!-- Car cards will be generated by JavaScript -->
        </div>
    </section>

    <!-- Tuning Details Modal -->
    <div class="modal-overlay" id="tuningModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Engine Tuning Details</h2>
                <p class="modal-subtitle" id="modalSubtitle">Performance gains and tuning stages</p>
            </div>
            <div class="modal-body">
                <div class="chart-grid">
                    <div class="chart-container">
                        <h3 class="chart-title">Horsepower Gains</h3>
                        <canvas id="hpChart"></canvas>
                        <div class="chart-actions">
                            <button class="chart-btn" id="resetHpZoom">Reset Zoom</button>
                            <button class="chart-btn" id="exportHpChart">Export Chart</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3 class="chart-title">Torque Gains</h3>
                        <canvas id="torqueChart"></canvas>
                        <div class="chart-actions">
                            <button class="chart-btn" id="resetTorqueZoom">Reset Zoom</button>
                            <button class="chart-btn" id="exportTorqueChart">Export Chart</button>
                        </div>
                    </div>
                </div>
                
                <h3 style="color: var(--secondary); margin-bottom: 20px;">Performance Data</h3>
                <table class="performance-table" id="performanceTable">
                    <thead>
                        <tr>
                            <th>Tuning Stage</th>
                            <th>Power (HP)</th>
                            <th>Power Gain</th>
                            <th>Torque (Nm)</th>
                            <th>Torque Gain</th>
                            <th>0-100 km/h</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody id="performanceTableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
                
                <div style="margin-top: 30px; padding: 20px; background: rgba(0, 217, 255, 0.05); border-radius: 10px;">
                    <h4 style="color: var(--secondary); margin-bottom: 15px;">Tuning Features:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> ECU Remapping</div>
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> DPF/EGR Optimization</div>
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Turbo Optimization</div>
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Fuel Injection Calibration</div>
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Throttle Response Improvement</div>
                        <div><i class="fas fa-check" style="color: #4CAF50; margin-right: 10px;"></i> Gearbox Software Optimization</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-column">
                <h3>MUGEN POWER</h3>
                <p>Touched by Mugen - Advanced vehicle tuning and performance upgrades since 2010. Professional ECU tuning for all European and Japanese brands.</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <a href="#home">Home</a>
                <a href="#brands">Brands</a>
                <a href="#models">Models</a>
                <a href="#tuning">Tuning Stages</a>
            </div>
            
            <div class="footer-column">
                <h3>Services</h3>
                <a href="#">ECU Remapping</a>
                <a href="#">Dyno Testing</a>
                <a href="#">Performance Upgrades</a>
                <a href="#">Custom Tuning</a>
                <a href="#">DPF/EGR Removal</a>
                <a href="#">AdBlue/SCR Removal</a>
            </div>
            
            <div class="footer-column">
                <h3>Contact Info</h3>
                <p><i class="fas fa-map-marker-alt"></i> Tuning Street 15, 71000 Sarajevo</p>
                <p><i class="fas fa-phone"></i> +387 33 123 456</p>
                <p><i class="fas fa-envelope"></i> info@mugenpower.ba</p>
                <p><i class="fas fa-clock"></i> Mon-Fri: 9:00-18:00, Sat: 9:00-14:00</p>
            </div>
        </div>
        
        <div class="copyright">
            &copy; 2023 Mugen Power. All rights reserved. | Professional ECU Tuning for All Vehicle Brands
        </div>
    </footer>

    <script>
        // Comprehensive tuning data for all brands (based on aschiptuning.ba structure)
        const tuningData = {
            vw: [
                {
                    id: 1,
                    model: "Golf 7 GTI",
                    year: "2013-2017",
                    engine: "2.0 TSI EA888 Gen3",
                    stockHP: 220,
                    stockTorque: 350,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 300, torque: 420, acceleration: "5.8s", price: "€450" },
                        { stage: "Stage 2", hp: 340, torque: 470, acceleration: "5.3s", price: "€650" },
                        { stage: "Stage 2+", hp: 370, torque: 500, acceleration: "4.9s", price: "€850" },
                        { stage: "Stage 3", hp: 420, torque: 550, acceleration: "4.3s", price: "€1,200" }
                    ],
                    image: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#1E5DC6"
                },
                {
                    id: 2,
                    model: "Tiguan 2.0 TDI",
                    year: "2016-2020",
                    engine: "2.0 TDI CR 184HP",
                    stockHP: 184,
                    stockTorque: 380,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 230, torque: 460, acceleration: "7.8s", price: "€450" },
                        { stage: "Stage 2", hp: 260, torque: 510, acceleration: "7.2s", price: "€650" },
                        { stage: "Stage 2+", hp: 280, torque: 540, acceleration: "6.8s", price: "€800" }
                    ],
                    image: "https://images.unsplash.com/photo-1593941707882-a5bba5338fe2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#1E5DC6"
                },
                {
                    id: 3,
                    model: "Passat B8 2.0 TSI",
                    year: "2014-2020",
                    engine: "2.0 TSI 220HP",
                    stockHP: 220,
                    stockTorque: 350,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 280, torque: 420, acceleration: "6.2s", price: "€450" },
                        { stage: "Stage 2", hp: 310, torque: 460, acceleration: "5.7s", price: "€650" },
                        { stage: "Stage 2+", hp: 340, torque: 500, acceleration: "5.2s", price: "€800" }
                    ],
                    image: "https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#1E5DC6"
                }
            ],
            audi: [
                {
                    id: 4,
                    model: "A4 B9 3.0 TDI",
                    year: "2015-2019",
                    engine: "3.0 TDI 272HP",
                    stockHP: 272,
                    stockTorque: 600,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 330, torque: 680, acceleration: "5.4s", price: "€550" },
                        { stage: "Stage 2", hp: 360, torque: 730, acceleration: "4.9s", price: "€750" },
                        { stage: "Stage 2+", hp: 390, torque: 780, acceleration: "4.5s", price: "€950" }
                    ],
                    image: "https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#C30000"
                },
                {
                    id: 5,
                    model: "RS6 C7",
                    year: "2013-2018",
                    engine: "4.0 TFSI 560HP",
                    stockHP: 560,
                    stockTorque: 700,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 680, torque: 850, acceleration: "3.5s", price: "€850" },
                        { stage: "Stage 2", hp: 750, torque: 920, acceleration: "3.2s", price: "€1,200" },
                        { stage: "Stage 2+", hp: 820, torque: 1000, acceleration: "2.9s", price: "€1,500" },
                        { stage: "Stage 3", hp: 950, torque: 1150, acceleration: "2.6s", price: "€2,500" }
                    ],
                    image: "https://images.unsplash.com/photo-1606664515524-ed1f569ea7db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#C30000"
                },
                {
                    id: 6,
                    model: "Q7 4M 3.0 TDI",
                    year: "2015-2020",
                    engine: "3.0 TDI 218HP",
                    stockHP: 218,
                    stockTorque: 500,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 270, torque: 580, acceleration: "6.9s", price: "€500" },
                        { stage: "Stage 2", hp: 300, torque: 630, acceleration: "6.3s", price: "€700" },
                        { stage: "Stage 2+", hp: 320, torque: 660, acceleration: "5.9s", price: "€900" }
                    ],
                    image: "https://images.unsplash.com/photo-1555215695-3004980ad54e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#C30000"
                }
            ],
            bmw: [
                {
                    id: 7,
                    model: "320d F30",
                    year: "2012-2019",
                    engine: "2.0 N47 184HP",
                    stockHP: 184,
                    stockTorque: 380,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 230, torque: 460, acceleration: "7.1s", price: "€450" },
                        { stage: "Stage 2", hp: 260, torque: 500, acceleration: "6.5s", price: "€650" },
                        { stage: "Stage 2+", hp: 280, torque: 530, acceleration: "6.1s", price: "€800" }
                    ],
                    image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#0066B3"
                },
                {
                    id: 8,
                    model: "M5 F90",
                    year: "2017-2023",
                    engine: "4.4 V8 S63 600HP",
                    stockHP: 600,
                    stockTorque: 750,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 700, torque: 850, acceleration: "3.2s", price: "€900" },
                        { stage: "Stage 2", hp: 750, torque: 900, acceleration: "2.9s", price: "€1,300" },
                        { stage: "Stage 2+", hp: 800, torque: 950, acceleration: "2.7s", price: "€1,700" },
                        { stage: "Stage 3", hp: 880, torque: 1050, acceleration: "2.4s", price: "€2,500" }
                    ],
                    image: "https://images.unsplash.com/photo-1555215695-3004980ad54e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#0066B3"
                },
                {
                    id: 9,
                    model: "X5 F15 3.0d",
                    year: "2013-2018",
                    engine: "3.0 N57 258HP",
                    stockHP: 258,
                    stockTorque: 560,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 310, torque: 640, acceleration: "6.2s", price: "€500" },
                        { stage: "Stage 2", hp: 340, torque: 690, acceleration: "5.7s", price: "€700" },
                        { stage: "Stage 2+", hp: 360, torque: 720, acceleration: "5.3s", price: "€900" }
                    ],
                    image: "https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#0066B3"
                }
            ],
            mercedes: [
                {
                    id: 10,
                    model: "C220d W205",
                    year: "2014-2021",
                    engine: "2.1 OM651 170HP",
                    stockHP: 170,
                    stockTorque: 400,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 210, torque: 470, acceleration: "7.5s", price: "€450" },
                        { stage: "Stage 2", hp: 240, torque: 510, acceleration: "6.9s", price: "€650" },
                        { stage: "Stage 2+", hp: 260, torque: 540, acceleration: "6.5s", price: "€800" }
                    ],
                    image: "https://images.unsplash.com/photo-1563720223485-8d6d5c5f3104?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#00A0A6"
                },
                {
                    id: 11,
                    model: "E350d W213",
                    year: "2016-2023",
                    engine: "3.0 OM642 258HP",
                    stockHP: 258,
                    stockTorque: 620,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 310, torque: 700, acceleration: "5.7s", price: "€550" },
                        { stage: "Stage 2", hp: 340, torque: 750, acceleration: "5.2s", price: "€750" },
                        { stage: "Stage 2+", hp: 360, torque: 780, acceleration: "4.9s", price: "€950" }
                    ],
                    image: "https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#00A0A6"
                }
            ],
            volvo: [
                {
                    id: 12,
                    model: "XC60 D5",
                    year: "2017-2022",
                    engine: "2.4 D5 235HP",
                    stockHP: 235,
                    stockTorque: 480,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 280, torque: 560, acceleration: "6.8s", price: "€500" },
                        { stage: "Stage 2", hp: 310, torque: 600, acceleration: "6.2s", price: "€700" },
                        { stage: "Stage 2+", hp: 330, torque: 630, acceleration: "5.8s", price: "€900" }
                    ],
                    image: "https://images.unsplash.com/photo-1593941707882-a5bba5338fe2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#003057"
                }
            ],
            honda: [
                {
                    id: 13,
                    model: "Civic Type R FK8",
                    year: "2017-2022",
                    engine: "2.0 VTEC Turbo 320HP",
                    stockHP: 320,
                    stockTorque: 400,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 370, torque: 470, acceleration: "5.2s", price: "€550" },
                        { stage: "Stage 2", hp: 400, torque: 500, acceleration: "4.8s", price: "€750" },
                        { stage: "Stage 2+", hp: 430, torque: 530, acceleration: "4.5s", price: "€950" }
                    ],
                    image: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#E40521"
                }
            ],
            mazda: [
                {
                    id: 14,
                    model: "CX-5 2.2D",
                    year: "2017-2022",
                    engine: "2.2 Skyactiv-D 184HP",
                    stockHP: 184,
                    stockTorque: 445,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 220, torque: 510, acceleration: "8.2s", price: "€450" },
                        { stage: "Stage 2", hp: 240, torque: 550, acceleration: "7.6s", price: "€650" }
                    ],
                    image: "https://images.unsplash.com/photo-1593941707882-a5bba5338fe2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#D40000"
                }
            ],
            opel: [
                {
                    id: 15,
                    model: "Insignia B 2.0D",
                    year: "2017-2022",
                    engine: "2.0 CDTI 170HP",
                    stockHP: 170,
                    stockTorque: 400,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 210, torque: 470, acceleration: "8.1s", price: "€450" },
                        { stage: "Stage 2", hp: 230, torque: 500, acceleration: "7.5s", price: "€650" }
                    ],
                    image: "https://images.unsplash.com/photo-1605559424843-9e4c228bf1c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#0047BA"
                }
            ],
            seat: [
                {
                    id: 16,
                    model: "Leon Cupra 300",
                    year: "2017-2020",
                    engine: "2.0 TSI 300HP",
                    stockHP: 300,
                    stockTorque: 380,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 360, torque: 450, acceleration: "5.4s", price: "€500" },
                        { stage: "Stage 2", hp: 390, torque: 480, acceleration: "4.9s", price: "€700" },
                        { stage: "Stage 2+", hp: 420, torque: 510, acceleration: "4.5s", price: "€900" }
                    ],
                    image: "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#FF6600"
                }
            ],
            alfa: [
                {
                    id: 17,
                    model: "Giulia 2.2D",
                    year: "2016-2022",
                    engine: "2.2 JTDm 210HP",
                    stockHP: 210,
                    stockTorque: 470,
                    fuel: "diesel",
                    tuningStages: [
                        { stage: "Stage 1", hp: 250, torque: 540, acceleration: "6.9s", price: "€500" },
                        { stage: "Stage 2", hp: 280, torque: 580, acceleration: "6.3s", price: "€700" }
                    ],
                    image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#981E32"
                }
            ],
            fiat: [
                {
                    id: 18,
                    model: "500X 1.4 MultiAir",
                    year: "2014-2020",
                    engine: "1.4 Turbo 140HP",
                    stockHP: 140,
                    stockTorque: 230,
                    fuel: "petrol",
                    tuningStages: [
                        { stage: "Stage 1", hp: 170, torque: 270, acceleration: "8.9s", price: "€400" },
                        { stage: "Stage 2", hp: 190, torque: 290, acceleration: "8.2s", price: "€600" }
                    ],
                    image: "https://images.unsplash.com/photo-1593941707882-a5bba5338fe2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                    color: "#9B0033"
                }
            ]
        };

        // Brand information mapping
        const brandInfo = {
            vw: { name: "Volkswagen", icon: "fab fa-vw", color: "#1E5DC6" },
            audi: { name: "Audi", icon: "fas fa-ring", color: "#C30000" },
            bmw: { name: "BMW", icon: "fas fa-times", color: "#0066B3" },
            mercedes: { name: "Mercedes", icon: "fas fa-star", color: "#00A0A6" },
            volvo: { name: "Volvo", icon: "fas fa-shield-alt", color: "#003057" },
            honda: { name: "Honda", icon: "fas fa-h", color: "#E40521" },
            mazda: { name: "Mazda", icon: "fas fa-wind", color: "#D40000" },
            opel: { name: "Opel", icon: "fas fa-bolt", color: "#0047BA" },
            seat: { name: "Seat", icon: "fas fa-fire", color: "#FF6600" },
            alfa: { name: "Alfa Romeo", icon: "fas fa-crosshairs", color: "#981E32" },
            fiat: { name: "Fiat", icon: "fas fa-italic", color: "#9B0033" }
        };

        // Global variables
        let hpChart = null;
        let torqueChart = null;
        let currentTuningData = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            setupEventListeners();
            populateYearFilters();
            populateCarGrid();
            setupCharts();
        });

        // Create background particles
        function createParticles() {
            const bgAnimation = document.getElementById('bgAnimation');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 5 + 1;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 20 + 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                const colors = ['#00d9ff', '#0080ff', '#a000ff', '#ff005e'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.background = color;
                
                bgAnimation.appendChild(particle);
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');
            
            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuToggle.innerHTML = navMenu.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Close menu when clicking on a link
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                    menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
            
            // Brand selector
            document.querySelectorAll('.brand-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.brand-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const brand = this.dataset.brand;
                    document.getElementById('filterBrand').value = brand;
                    filterCars();
                });
            });
            
            // Filter change listeners
            document.getElementById('filterBrand').addEventListener('change', filterCars);
            document.getElementById('filterYearFrom').addEventListener('change', filterCars);
            document.getElementById('filterYearTo').addEventListener('change', filterCars);
            document.getElementById('filterEngine').addEventListener('change', filterCars);
            
            // Modal close button
            document.getElementById('modalClose').addEventListener('click', () => {
                document.getElementById('tuningModal').style.display = 'none';
            });
            
            // Close modal when clicking outside
            document.getElementById('tuningModal').addEventListener('click', (e) => {
                if (e.target.id === 'tuningModal') {
                    document.getElementById('tuningModal').style.display = 'none';
                }
            });
            
            // Chart controls
            document.getElementById('resetHpZoom').addEventListener('click', () => {
                if (hpChart) hpChart.resetZoom();
            });
            
            document.getElementById('resetTorqueZoom').addEventListener('click', () => {
                if (torqueChart) torqueChart.resetZoom();
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if(targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Header scroll effect
            window.addEventListener('scroll', () => {
                const header = document.querySelector('header');
                if (window.scrollY > 100) {
                    header.style.backgroundColor = 'rgba(5, 8, 17, 0.95)';
                    header.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.3)';
                } else {
                    header.style.backgroundColor = 'rgba(5, 8, 17, 0.9)';
                    header.style.boxShadow = 'none';
                }
            });
        }

        // Populate year filters
        function populateYearFilters() {
            const yearFrom = document.getElementById('filterYearFrom');
            const yearTo = document.getElementById('filterYearTo');
            
            // Add years from 2000 to 2023
            for (let year = 2023; year >= 2000; year--) {
                const optionFrom = document.createElement('option');
                optionFrom.value = year;
                optionFrom.textContent = year;
                
                const optionTo = document.createElement('option');
                optionTo.value = year;
                optionTo.textContent = year;
                
                yearFrom.appendChild(optionFrom.cloneNode(true));
                yearTo.appendChild(optionTo);
            }
        }

        // Populate car grid
        function populateCarGrid() {
            const carGrid = document.getElementById('carGrid');
            carGrid.innerHTML = '';
            
            // Flatten all tuning data into a single array
            let allCars = [];
            Object.keys(tuningData).forEach(brand => {
                tuningData[brand].forEach(car => {
                    allCars.push({
                        ...car,
                        brand: brand,
                        brandName: brandInfo[brand].name,
                        brandColor: brandInfo[brand].color
                    });
                });
            });
            
            // Sort by brand then model
            allCars.sort((a, b) => {
                if (a.brandName < b.brandName) return -1;
                if (a.brandName > b.brandName) return 1;
                return a.model.localeCompare(b.model);
            });
            
            // Create car cards
            allCars.forEach(car => {
                const highestStage = car.tuningStages[car.tuningStages.length - 1];
                const hpGain = highestStage.hp - car.stockHP;
                const torqueGain = highestStage.torque - car.stockTorque;
                
                const carCard = document.createElement('div');
                carCard.className = 'car-card';
                carCard.dataset.brand = car.brand;
                carCard.dataset.year = car.year.split('-')[0]; // Get start year
                carCard.dataset.fuel = car.fuel;
                
                carCard.innerHTML = `
                    <div class="car-header">
                        <div class="car-brand" style="color: ${car.brandColor}">${car.brandName}</div>
                        <h3 class="car-model">${car.model}</h3>
                        <div class="car-year">${car.year}</div>
                    </div>
                    <div class="car-image" style="background-image: url('${car.image}')">
                        <div class="car-overlay"></div>
                    </div>
                    <div class="car-engine">${car.engine}</div>
                    <div class="car-stats">
                        <div class="stat">
                            <div class="stat-value">${car.stockHP} <small style="font-size: 0.8em;">→ ${highestStage.hp}</small></div>
                            <div class="stat-label">Power (HP)</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${car.stockTorque} <small style="font-size: 0.8em;">→ ${highestStage.torque}</small></div>
                            <div class="stat-label">Torque (Nm)</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${hpGain}+</div>
                            <div class="stat-label">HP Gain</div>
                        </div>
                    </div>
                `;
                
                // Add click event to show tuning details
                carCard.addEventListener('click', () => {
                    showTuningDetails(car);
                });
                
                carGrid.appendChild(carCard);
            });
        }

        // Filter cars based on selected filters
        function filterCars() {
            const brandFilter = document.getElementById('filterBrand').value;
            const yearFromFilter = document.getElementById('filterYearFrom').value;
            const yearToFilter = document.getElementById('filterYearTo').value;
            const engineFilter = document.getElementById('filterEngine').value;
            
            document.querySelectorAll('.car-card').forEach(card => {
                let show = true;
                
                // Brand filter
                if (brandFilter !== 'all' && card.dataset.brand !== brandFilter) {
                    show = false;
                }
                
                // Year filter
                if (yearFromFilter !== 'all') {
                    const carStartYear = parseInt(card.dataset.year);
                    const filterYear = parseInt(yearFromFilter);
                    if (carStartYear < filterYear) {
                        show = false;
                    }
                }
                
                if (yearToFilter !== 'all') {
                    const carStartYear = parseInt(card.dataset.year);
                    const filterYear = parseInt(yearToFilter);
                    if (carStartYear > filterYear) {
                        show = false;
                    }
                }
                
                // Engine filter
                if (engineFilter !== 'all' && card.dataset.fuel !== engineFilter) {
                    show = false;
                }
                
                // Show/hide card
                card.style.display = show ? 'block' : 'none';
            });
        }

        // Show tuning details modal
        function showTuningDetails(car) {
            currentTuningData = car;
            
            // Update modal title
            document.getElementById('modalTitle').textContent = `${car.brandName} ${car.model}`;
            document.getElementById('modalSubtitle').textContent = `${car.engine} | ${car.year} | ${car.fuel.toUpperCase()}`;
            
            // Update performance table
            updatePerformanceTable(car);
            
            // Update charts
            updateCharts(car);
            
            // Show modal
            document.getElementById('tuningModal').style.display = 'flex';
        }

        // Update performance table
        function updatePerformanceTable(car) {
            const tableBody = document.getElementById('performanceTableBody');
            tableBody.innerHTML = '';
            
            // Add stock row
            const stockRow = document.createElement('tr');
            stockRow.innerHTML = `
                <td><strong>Stock</strong></td>
                <td>${car.stockHP} HP</td>
                <td>-</td>
                <td>${car.stockTorque} Nm</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
            `;
            tableBody.appendChild(stockRow);
            
            // Add tuning stage rows
            car.tuningStages.forEach(stage => {
                const hpGain = stage.hp - car.stockHP;
                const torqueGain = stage.torque - car.stockTorque;
                const gainClass = hpGain > 100 ? 'gain-high' : 'gain-positive';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${stage.stage}</strong></td>
                    <td>${stage.hp} HP</td>
                    <td class="${gainClass}">+${hpGain} HP</td>
                    <td>${stage.torque} Nm</td>
                    <td class="${gainClass}">+${torqueGain} Nm</td>
                    <td>${stage.acceleration}</td>
                    <td><strong>${stage.price}</strong></td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Setup charts
        function setupCharts() {
            const hpCtx = document.getElementById('hpChart').getContext('2d');
            const torqueCtx = document.getElementById('torqueChart').getContext('2d');
            
            // Common chart options
            const commonOptions = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        labels: {
                            color: '#fff',
                            font: {
                                size: 14
                            }
                        }
                    },
                    zoom: {
                        zoom: {
                            wheel: {
                                enabled: true,
                            },
                            pinch: {
                                enabled: true
                            },
                            mode: 'xy',
                        },
                        pan: {
                            enabled: true,
                            mode: 'xy',
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: '#a0b3d0'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    y: {
                        beginAtZero: false,
                        ticks: {
                            color: '#a0b3d0'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            };
            
            // Initialize charts with empty data
            hpChart = new Chart(hpCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: []
                },
                options: commonOptions
            });
            
            torqueChart = new Chart(torqueCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: []
                },
                options: commonOptions
            });
        }

        // Update charts with car data
        function updateCharts(car) {
            // Prepare data for charts
            const labels = ['Stock', ...car.tuningStages.map(s => s.stage)];
            const hpData = [car.stockHP, ...car.tuningStages.map(s => s.hp)];
            const torqueData = [car.stockTorque, ...car.tuningStages.map(s => s.torque)];
            
            // Update HP chart
            hpChart.data.labels = labels;
            hpChart.data.datasets = [{
                label: 'Horsepower (HP)',
                data: hpData,
                borderColor: car.color || car.brandColor,
                backgroundColor: `${car.color || car.brandColor}20`,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointBackgroundColor: car.color || car.brandColor,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6
            }];
            hpChart.update();
            
            // Update torque chart
            torqueChart.data.labels = labels;
            torqueChart.data.datasets = [{
                label: 'Torque (Nm)',
                data: torqueData,
                borderColor: car.color || car.brandColor,
                backgroundColor: `${car.color || car.brandColor}20`,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointBackgroundColor: car.color || car.brandColor,
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6
            }];
            torqueChart.update();
        }

        // Export chart as image
        function exportChart(chart, filename) {
            const link = document.createElement('a');
            link.download = `${filename}.png`;
            link.href = chart.toBase64Image();
            link.click();
        }

        // Add export functionality
        document.getElementById('exportHpChart').addEventListener('click', () => {
            if (hpChart && currentTuningData) {
                exportChart(hpChart, `${currentTuningData.brandName}_${currentTuningData.model}_HP_Gains`);
            }
        });
        
        document.getElementById('exportTorqueChart').addEventListener('click', () => {
            if (torqueChart && currentTuningData) {
                exportChart(torqueChart, `${currentTuningData.brandName}_${currentTuningData.model}_Torque_Gains`);
            }
        });
    </script>
</body>
</html>
